language: node_js
node_js:
  - "6"
  - "7"

cache:
  directories:
    - node_modules

install: npm install

before_script:
  - git config --global user.name  "bubkoo"
  - git config --global user.email "bubkoo.wy@gmail.com"
  - git clone https://${GH_TOKEN}@${GH_REF} site

script:
  - npm run lint
  - npm run build
  - make update
  - git push https://${GH_TOKEN}@${GH_REF} origin master

env:
  global:
    - GH_REF: github.com/mickeyjsx/mickeyjsx.github.com.git
    - secure: 'ql0XMr+Xv1sLhosjBpe7k9kqhlafkHAjA3ieLt33nfaTdzsB233qdVmRuWKmlCwsO171EfwDsl8RSr7ebrs2xx39PsTkcRP18yoSIiY/zpQa7PBVfHbbU55j1ayIlFi9Xj/0XEfzg8aDx2xi5rBjzkEWZ+KrvJtCMtQYjOkwsy+v1EaNvtzj61Q4HDtB9UChZ9triZOfb3tE6DGnURwWgDMIc2c5h1q5+bXavTKR7kNMNAggNLFPl4is+Gh22qBz8/ZOkfgBx4sYjSjjrc9yzqNyF3hSrO54zJRxChO1GIPb9JpUJJVYPlIAolNAIf7tbcffMGPQFrBJitEo7gda6UaHKvjOQPpMh4XiJesvfij8ARlYj3039Fjh2rwlKVAhLYbVIljOFIQVV1FVZSYTh9Y4yAoRXK7UoRdqvP5GVxeL/MdvJERSqPXrYpBr7qXS7sE84KqIe2qGvifh6GgGmkEODyXrxcSvuHCg9D8PE3+BEWn0k7q1bf0d+OKVsoSOYZap7dz/RgPAwj7TT5bM6E5N8wzYXzkzU5E0Srg9OCLdALrLjcqIAPFzeYfUCmVPw7Qa92iKIS9OSwmir7Nh2DBy1yE3Htl5h/CNmpGUtaevgrMTqfarixLgx6V1Aui6iJgtTsL8EO3NpO7OvwRNzft3/1lcnX+iSIpLbAZ/jik='
